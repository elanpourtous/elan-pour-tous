<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Ã‰lan pour tous â€” micro-entreprise Ã  Saumur, formations et services inclusifs pour tous publics.">
  <title>Ã‰lan pour tous - Accueil</title>
  <meta name="theme-color" content="#0b8457">
  <link rel="icon" href="assets/ima/baa.png" type="image/png">

  <!-- Styles -->
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/rgaa-accessible.css">
</head>

<body>
  <!-- Lien dâ€™Ã©vitement -->
  <a href="#contenu" class="skip-link">Aller au contenu</a>

  <!-- HEADER (inclus dynamiquement) -->
  <div id="header-placeholder" role="banner"></div>

  <!-- Contenu principal -->
  <main class="container hero" role="main" id="contenu">
    <img src="assets/ima/baa.png" alt="Logo Ã‰lan pour tous" class="hero-logo">
    <h1>Ã‰lan pour tous</h1>
    <p class="tagline">Micro-entreprise basÃ©e Ã  Saumur (49) â€” formations & services accessibles Ã  tous.</p>
    <p>Accompagner chacunÂ·e dans son parcours dâ€™apprentissage, de reconversion et dâ€™Ã©panouissement personnel ou professionnel.</p>
    <a href="formations.html" class="btn">DÃ©couvrir nos formations</a>
  </main>

  <!-- FOOTER (inclus dynamiquement) -->
  <div id="footer-placeholder" role="contentinfo"></div>

  <!-- Inclusion des fragments puis scripts, dans le bon ordre -->
  <script>
    function includeInto(id, url) {
      return fetch(url, { cache: "no-store" })
        .then(r => {
          if (!r.ok) throw new Error(url + " introuvable");
          return r.text();
        })
        .then(html => { document.getElementById(id).innerHTML = html; });
    }

    // On attend que header + footer soient injectÃ©s avant d'initialiser les JS
    Promise.all([
      includeInto("header-placeholder", "assets/header.html"),
      includeInto("footer-placeholder", "assets/footer.html")
    ])
    .then(() => {
      // Charge les scripts seulement aprÃ¨s l'injection du header (menu, thÃ¨me)
      const s1 = document.createElement("script");
      s1.src = "assets/js/main.js"; s1.defer = true;
      document.body.appendChild(s1);

      const s2 = document.createElement("script");
      s2.src = "assets/js/accessibilite.js"; s2.defer = true;
      document.body.appendChild(s2);
    })
    .catch(err => console.error("Erreur dâ€™inclusion :", err));
  </script>
</body>
</html>
  <!-- Pied de page chargÃ© dynamiquement -->
  <div id="footer-placeholder" role="contentinfo"></div>

  <!-- ============================= -->
  <!-- ðŸ”— INJECTION HEADER + FOOTER + JS -->
  <!-- ============================= -->
  <script>
    function includeInto(id, url) {
      return fetch(url, { cache: "no-store" })
        .then(r => { if (!r.ok) throw new Error(url + " introuvable"); return r.text(); })
        .then(html => { document.getElementById(id).innerHTML = html; });
    }

    Promise.all([
      includeInto("header-placeholder", "assets/header.html"),
      includeInto("footer-placeholder", "assets/footer.html")
    ]).then(() => {
      const s1 = document.createElement('script'); s1.src = 'assets/js/main.js'; s1.defer = true; document.body.appendChild(s1);
      const s2 = document.createElement('script'); s2.src = 'assets/js/accessibilite.js'; s2.defer = true; document.body.appendChild(s2);
      const s3 = document.createElement('script'); s3.src = 'assets/js/tts.js'; s3.defer = true; document.body.appendChild(s3); // ðŸ”Š Lecture vocale
    }).catch(err => console.error('Erreur dâ€™inclusion :', err));
  </script>
</body>
</html>
