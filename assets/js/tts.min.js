!function(){const e=document.getElementById("tts-toggle"),t=document.querySelector(".tts-bar"),a=document.querySelectorAll(".tts-btn");if(!t)return;t.removeAttribute("hidden");const s=localStorage.getItem("ttsVisible"),n=s?"shown"===s:!0;n?(t.classList.add("is-visible"),t.removeAttribute("aria-hidden"),e?.setAttribute("aria-pressed","true")):(t.classList.remove("is-visible"),t.setAttribute("aria-hidden","true"),e?.setAttribute("aria-pressed","false"));function i(){t.classList.add("is-visible"),t.removeAttribute("aria-hidden"),e?.setAttribute("aria-pressed","true"),localStorage.setItem("ttsVisible","shown")}function r(){t.classList.remove("is-visible"),t.setAttribute("aria-hidden","true"),e?.setAttribute("aria-pressed","false"),localStorage.setItem("ttsVisible","hidden")}e?.addEventListener("click",(()=>{t.classList.contains("is-visible")?r():i()}));function o(e){e.classList.remove("tts-animate"),void e.offsetWidth,e.classList.add("tts-animate"),setTimeout((()=>e.classList.remove("tts-animate")),220)}a.forEach((e=>{e.addEventListener("click",(()=>o(e))),e.addEventListener("keydown",(t=>{" "!==t.key&&"Enter"!==t.key||o(e)}))})),a.forEach((e=>{e.addEventListener("click",(()=>{a.forEach((e=>e.classList.remove("tts-active"))),e.id.includes("stop")||e.classList.add("tts-active")}))})),document.getElementById("tts-stop")?.addEventListener("click",(()=>{a.forEach((e=>e.classList.remove("tts-active")))}))}();
