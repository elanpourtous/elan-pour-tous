<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Checklist RGAA – Élan pour tous</title>
  <meta name="description" content="Auto-évaluation RGAA 4.1 du site Élan pour tous, micro-entreprise à Saumur.">
  <link rel="icon" href="assets/ima/logo.png" type="image/png">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/rgaa-accessible.css">
  <style>
    /* Caption sobre pour les tableaux */
    .rgaa-table caption{
      text-align:left;font-weight:700;margin-bottom:.35rem;color:var(--fg);opacity:.9;
    }
  </style>
</head>

<body>
  <a href="#contenu" class="skip-link">Aller au contenu</a>

  <!-- HEADER injecté -->
  <div id="header-placeholder" role="banner"></div>

  <main id="contenu" class="container hero" role="main">
    <h1>Checklist RGAA – Élan pour tous</h1>
    <p>
      Auto-évaluation de l’accessibilité du site web, basée sur le <strong>RGAA 4.1 (niveau AA)</strong>.<br>
      <strong>Micro-entreprise :</strong> Élan pour tous — Saumur (49)
    </p>

    <!-- 1 -->
    <section>
      <h2>1. Structure et navigation</h2>
      <table class="rgaa-table">
        <caption>Contrôles de structure et de navigation (RGAA 4.1)</caption>
        <thead>
          <tr>
            <th scope="col">Critère</th>
            <th scope="col">Description</th>
            <th scope="col">État</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">1.1</th>
            <td>Titre de page pertinent et unique</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">1.2</th>
            <td>Structure des titres (h1 à h6) hiérarchisée</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">1.3</th>
            <td>Lien d’évitement vers le contenu principal</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">1.4</th>
            <td>Navigation clavier complète et focus bien visible</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">1.5</th>
            <td>Menu accessible (rôles ARIA, aria-expanded…)</td>
            <td><span aria-label="Partiel">◐</span> Partiel</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- 2 -->
    <section>
      <h2>2. Contenus et médias</h2>
      <table class="rgaa-table">
        <caption>Vérifications des contenus et médias</caption>
        <thead>
          <tr>
            <th scope="col">Critère</th>
            <th scope="col">Description</th>
            <th scope="col">État</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">2.1</th>
            <td>Images porteuses d’information avec texte alternatif</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">2.2</th>
            <td>Images décoratives ignorées (alt="" / role="presentation")</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">2.3</th>
            <td>Contrastes couleur (≥ 4.5:1)</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">2.4</th>
            <td>Contraste des images de fond</td>
            <td><span aria-label="À vérifier">◐</span> À vérifier</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- 3 -->
    <section>
      <h2>3. Interaction et formulaires</h2>
      <table class="rgaa-table">
        <caption>Accessibilité des formulaires et interactions</caption>
        <thead>
          <tr>
            <th scope="col">Critère</th>
            <th scope="col">Description</th>
            <th scope="col">État</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">3.1</th>
            <td>Labels associés, focus visible, messages d’erreur</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">3.2</th>
            <td>Validation non bloquante pour la navigation clavier</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- 4 -->
    <section>
      <h2>4. Composants dynamiques</h2>
      <table class="rgaa-table">
        <caption>Fonctionnalités d’accessibilité dynamiques</caption>
        <thead>
          <tr>
            <th scope="col">Critère</th>
            <th scope="col">Description</th>
            <th scope="col">État</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">4.1</th>
            <td>Thème sombre/clair via <code>prefers-color-scheme</code></td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">4.2</th>
            <td>Boutons d’accessibilité (taille police, contraste, espacement)</td>
            <td><span aria-label="Conforme">✔</span> Conforme</td>
          </tr>
          <tr>
            <th scope="row">4.3</th>
            <td>Persistance des préférences utilisateur</td>
            <td><span aria-label="En test">◐</span> En test</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- 5 -->
    <section>
      <h2>5. Tests utilisateurs</h2>
      <table class="rgaa-table">
        <caption>Résultats des tests utilisateurs</caption>
        <thead>
          <tr>
            <th scope="col">Scénario</th>
            <th scope="col">Résultat</th>
            <th scope="col">État</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">Navigation clavier seule</th>
            <td>OK – tous les liens atteignables</td>
            <td><span aria-label="Conforme">✔</span></td>
          </tr>
          <tr>
            <th scope="row">Lecteur d’écran (NVDA)</th>
            <td>Lecture fluide des titres et des liens</td>
            <td><span aria-label="Conforme">✔</span></td>
          </tr>
          <tr>
            <th scope="row">Contraste élevé</th>
            <td>Lisibilité maintenue</td>
            <td><span aria-label="Conforme">✔</span></td>
          </tr>
          <tr>
            <th scope="row">Zoom 200 %</th>
            <td>Aucun chevauchement</td>
            <td><span aria-label="Conforme">✔</span></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- 6 -->
    <section>
      <h2>6. Conclusion</h2>
      <p>
        Site évalué comme <strong>partiellement conforme au RGAA 4.1 (niveau AA)</strong>,
        avec un haut niveau d’accessibilité générale.
      </p>
      <p>
        <strong>Dernière vérification :</strong> 01/11/2025<br>
        © 2025 <strong>Élan pour tous</strong> — Auto-évaluation RGAA réalisée par Patrick Billy, micro-entreprise à Saumur (49).
      </p>
    </section>
  </main>

  <!-- FOOTER injecté -->
  <div id="footer-placeholder" role="contentinfo"></div>

  <!-- Inclusion robuste + surlignage de l’onglet + chargement des scripts -->
  <script>
    function includeInto(id, url) {
      return fetch(url, { cache: "no-store" })
        .then(r => { if(!r.ok) throw new Error(url+" introuvable"); return r.text(); })
        .then(html => { document.getElementById(id).innerHTML = html; });
    }
    function loadScript(src){
      const s = document.createElement('script');
      s.src = src; s.defer = true;
      document.body.appendChild(s);
    }
    Promise.all([
      includeInto("header-placeholder", "assets/header.html"),
      includeInto("footer-placeholder", "assets/footer.html")
    ]).then(() => {
      // Surligner l’onglet courant
      const current = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
      document.querySelectorAll('.nav-links a').forEach(a => {
        if ((a.getAttribute('href')||'').toLowerCase() === current) {
          a.setAttribute('aria-current', 'page');
          a.classList.add('active');
        }
      });
      loadScript('assets/js/main.js');
      loadScript('assets/js/accessibilite.js');
    }).catch(err => console.error('Erreur d’inclusion :', err));
  </script>
</body>
</html>
